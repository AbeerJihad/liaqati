@page
@model liaqati_master.Pages.MealPlan.CreateModel
@{
}

<h4>Meal Plane</h4>
<hr />
<div class="container-fluid">
    <div class="row">
        <div class="col-sm-12">
            <div class="card">
                <div class="card-body">
                    <form asp-page-handler="Add" method="post" class="form theme-form">
                        @*     <div asp-validation-summary="All">

                        </div>*@
                        <div class="row">
                            <div class="col">
                                <div class="mb-3">
                                    <label asp-for="MealPlans.Services!.Title"></label>
                                    <input asp-for="MealPlans.Services!.Title" class="form-control" placeholder="">
                                    <span asp-validation-for="MealPlans.Services!.Title" class="text-danger"></span>
                                </div>
                            </div>
                            <div class="col">
                                <div class="mb-3">
                                    <label asp-for="MealPlans.Services!.Price"></label>
                                    <input asp-for="MealPlans.Services!.Price" class="form-control" placeholder="">
                                    <span asp-validation-for="MealPlans.Services!.Price" class="text-danger"></span>

                                </div>
                            </div>

                            <div class="col-12">
                                <div class="mb-3">
                                    <label asp-for="MealPlans.Services!.Description"></label>
                                    <textarea asp-for="MealPlans.Services!.Description" class="form-control" placeholder=""></textarea>
                                    <span asp-validation-for="MealPlans.Services!.Description" class="text-danger"></span>

                                </div>
                            </div> <div class="col-12">
                                <div class="mb-3">
                                    <label asp-for="MealPlans.Services!.ShortDescription"></label>
                                    <input asp-for="MealPlans.Services!.ShortDescription" class="form-control" placeholder="">
                                    <span asp-validation-for="MealPlans.Services!.ShortDescription" class="text-danger"></span>

                                </div>
                            </div>

                        </div>
                        <div class="row">
                            <div class="col-sm-4">
                                <div class="mb-3">
                                    <label asp-for="MealPlans.MealType"></label>
                                    <br />
                                    @for (var index = 0; index < @Model.lstCheckBox.Count(); index++)
                                   {
                                        <label class="form-check-label p" >
                                            @Model.MealType[index]
                                        </label>
                                        <input type="hidden" asp-for="@Model.lstCheckBox[index].Name" />

                                        <input type="checkbox" asp-for="@Model.lstCheckBox[index].IsChecked" />


                                        if( (index +1) %3   ==0)
                                        {
                                            <br/>
                                        }
                                    }

                                     
                                    


@*                                    <input asp-for="MealPlans.MealType" class="form-control" placeholder="">
*@                                    <span asp-validation-for="MealPlans.MealType" class="text-danger"></span>

                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="mb-3">
                                    <label asp-for="MealPlans.DietaryType"></label>
@*                                  <input asp-for="MealPlans.DietaryType" class="form-control" placeholder="">
*@
                                    <label asp-for="MealPlans.DietaryType"></label>
                                    <br />
                                    @for (var index = 0; index < @Model.lstCheckBoxDietaryType.Count(); index++)
                                    {
                                    <label class="form-check-label p" >
                                    @Model.DietaryType[index]
                                    </label>
                                        <input type="hidden" asp-for="@Model.lstCheckBoxDietaryType[index].Name" />

                                        <input type="checkbox" asp-for="@Model.lstCheckBoxDietaryType[index].IsChecked" />


                                    if( (index +1) %3   ==0)
                                    {
                                    <br/>
                                    }
                                    }
                                  <span asp-validation-for="MealPlans.DietaryType" class="text-danger"></span>

                                </div>
                            </div>


                            <div class="col-sm-4">
                                <div class="mb-3">
                                    <label asp-for="MealPlans.AvgRecipeTime"></label>
                                    <input asp-for="MealPlans.AvgRecipeTime" class="form-control" placeholder="">
                                    <span asp-validation-for="MealPlans.AvgRecipeTime" class="text-danger"></span>

                                </div>
                            </div>
                            <div class="col-12 col-md-6">
                                <div class="mb-3">
                                    <label class="d-block" asp-for="MealPlans.Length"></label>
                                    <select style="height:35px;" class="col-12 border border-light rounded-3" id="selectLength" asp-for="MealPlans.Length">
                                        <option value="-1">ادخل عدد اسابيع النظام الرياضي</option>
                                        <option value="1">اسبوع</option>
                                        <option value="2">اسبوعين</option>
                                        <option value="4">  اربعة اسابيع</option>
                                    </select>
                                    <span class="text-danger" asp-validation-for="MealPlans.Length"></span>

                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="mb-3">
                                    <label asp-for="MealPlans.Services!.Category!.Name"></label>
                                    <select style="height:35px;" class="col-12 border border-light rounded-3" asp-for="MealPlans.Services!.CategoryId" asp-items="Model.CatogeryName">
                                        <option value="-1"> ادخل اسم الصنف الخاص بالنظام الرياضي</option>

                                    </select>

                                </div>
                            </div>
                        </div>


                        <div class="row">
                            <div class="col-sm-4">
                                <div class="mb-3">
                                    <button class="mx-auto col-auto" type="submit"> Save </button>
                                </div>
                            </div>
                        </div>




                        @* <div class="row">
                        <div class="col-sm-4">
                        <div class="mb-3">
                        <label>Project Size</label>
                        <select class="form-select">
                        <option>Small</option>
                        <option>Medium</option>
                        <option>Big</option>
                        </select>
                        </div>
                        </div>
                        <div class="col-sm-4">
                        <div class="mb-3">
                        <label>Starting date</label>
                        <input class="datepicker-here form-control" type="text" data-language="en">
                        </div>
                        </div>
                        <div class="col-sm-4">
                        <div class="mb-3">
                        <label>Ending date</label>
                        <input class="datepicker-here form-control" type="text" data-language="en">
                        </div>
                        </div>
                        </div>
                        <div class="row">
                        <div class="col">
                        <div class="mb-3">
                        <label>Enter some Details</label>
                        <textarea class="form-control" id="exampleFormControlTextarea4" rows="3"></textarea>
                        </div>
                        </div>
                        </div>
                        <div class="row">
                        <div class="col">
                        <div class="mb-3">
                        <label>Upload project file</label>
                        <form class="dropzone dz-clickable " id="singleFileUpload">
                        <div class="dz-message needsclick">
                        <i class="icon-cloud-up"></i>
                        <h6>Drop files here or click to upload.</h6><span class="note needsclick">(This is just a demo dropzone. Selected files are <strong>not</strong> actually uploaded.)</span>
                        </div>

                        </form>
                        </div>
                        </div>
                        </div>
                        <div class="row">
                        <div class="col">
                        <div class="text-end"><a class="btn btn-secondary me-3" href="#">Add</a><a class="btn btn-danger" href="#">Cancel</a></div>
                        </div>
                        </div>
                        *@


                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container-fluid">
    <div>
        @{
            if (Model.MealPlans.Meal_Healthy != null)
            {
                <table class="table table-striped table-hover table-bordered table-responsive">
                    <thead class="table-Secondary">
                        <tr>

                            <th scope="col">الاسبوع</th>
                            <th scope="col">اليوم</th>
                            <th scope="col"> اسم التمرين</th>
                        </tr>
                    </thead>
                    <tbody id="">



                        @for (int x = 0; x < Model.MealPlans.Meal_Healthy!.Count; x++)
                        {

                            string id = @Model.MealPlans.Meal_Healthy[x].HealthyRecdpeId;
                            HealthyRecipe HealthyRecipe = Model.getHealthyRecipe(id);



                            <tr class="bg-Success">
                                <td> الاسبوع @Model.MealPlans.Meal_Healthy[x].Week   </td>
                                <td> اليوم @Model.MealPlans.Meal_Healthy[x].Day   </td>
                                <td>@HealthyRecipe.Title</td>

                                <td>
                                    @{
                                        var item = @Model.MealPlans.Meal_Healthy[x];
                                        item.MealPlan = null;
                                        item.HealthyRecipe = null;
                                    }


                                </td>



                            </tr>

                        }
                        }




                    </tbody>
                </table>


            }



        }
    </div>
</div>


<div id="DivSystem" class="container-lg my-5  @Model.Display">
    <div class="row justify-content-center my-5">
        <div data-v-2eea9796="" class="col-md-12">
            <div class="field-value">
                <div class="form-label d-flex flex-row align-items-center justify-content-between">
                    <div></div>
                </div>
                <div class="bg-white p-4">

                    <div class="row">
                        <div class="col">
                            <div class="mb-3">
                                <label>اختر الاسبوع </label>
                                <select style="height:35px;" class="col-12 border border-light rounded-3" name="Week" id="selectLengthWeek">
                                    <option disabled value="-1">اختر الاسبوع</option>


                                    @for (int x = 1; x <= Model.MealPlans!.Length; x++)
                                    {
                                        <option value="@x">  الاسبوع @x</option>

                                    }





                                </select>
                            </div>

                        </div>
                        <div class="col">
                            <div class="mb-3">
                                <label class="d-block"> اختر اليوم</label>
                                <select style="height:35px;" class="col-12 border border-light rounded-3" id="selectDays"
                                        placeholder="اكتب شيئاً...">
                                    <option value="1">اليوم الاول</option>
                                    <option value="2">اليوم الثاني</option>
                                    <option value="3">اليوم الثالث</option>
                                    <option value="4">اليوم الرابع</option>
                                    <option value="5">اليوم الخامس</option>
                                    <option value="6">اليوم السادس</option>
                                    <option value="7">اليوم السابع</option>
                                </select>

                            </div>

                        </div>
                        <div class="col">
                            <div class="mb-3">
                                <label class="d-block"> اختر الوجبات الخاصة بالنظام الغذائي</label>
                                <select onchange="SelectHealtyFun()" style="height:35px;" class="col-12 border border-light rounded-3" id="SelectgetdataHealties" multiple="multiple">
                                    <option value="-1">  اختر الوجبة  الغذائية</option>
                                </select>
                            </div>

                        </div>

                        <div class="col-auto py-4">
                            <form id="formHealthySystem" method="post" asp-page="Create" asp-page-handler="AddSystem">
                                <input name="Id" value="@Model.MealPlans.Id" id="MealIdSystem" name="id" asp-for="MealPlans.Id" hidden />

                                <a id="BtnAddHealthyRecipe"
                                   class="text-nowrap bg-white fw-medium btn btn-outline-primary">
                                    <i class="bi bi-plus h5 fw-bold"></i>
                                </a>
                            </form>

                        </div>


                    </div>

                    <div class="col-4">
                        <label>لاضافة وجبة غذائية غير موجودة  </label>
                        <a asp-area="admin" asp-page="/healthyreicpe/create"
                           class="text-nowrap bg-white fw-medium btn btn-outline-primary">
                            <i class="bi bi-plus h5 fw-bold"></i>
                        </a>
                    </div>










                </div>


            </div>

        </div>
    </div>
</div>





<div>
    <a asp-page="Index">Back to List</a>
</div>



@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }

    <script src="~/jsapi/healthyapi.js"></script>
    <script src="~/javascript/healthycrud.js"></script>
    <script src="~/jsapi/mealhealthy.js"></script>

    <script src="https://cdn.tiny.cloud/1/no-api-key/tinymce/6/tinymce.min.js" referrerpolicy="origin"></script>
    <script src="~/javascript/richtexteditor.js" asp-append-version="true"></script>
}
