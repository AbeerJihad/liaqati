<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="evo-calendar/css/evo-calendar.css" />
    <link
      rel="stylesheet"
      href="evo-calendar/css/evo-calendar.midnight-blue.css"
    />
  </head>
  <body>
      <div id="calendar"></div>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

  <script>

      var test;
      var list=[];
          async function getprogramExercies(progid) {

              let result = [];
              try {
                  const response = await fetch(`https://localhost:7232/api/ProgramExercies/AllProgramExercies/${progid}`, {
                      method: "GET",
                  });


                  if (response.status === 200) {
                     // result = await response.json();
                      result = await response.json();
                      for (var x = 0; x < result.length; x++) {

                          list.push(
                              {
                                  id: Math.random().toString(), // Event's ID (required)
                                  name: `${result[x].day}`, // Event name (required)
                                  date: `January/${x + 1}/2023`, // Event date (required)
                                  type: "holiday", // Event type (required)
                                  everyYear: true, // Same event every year (optional)
                              }
                          );
                      }


                  }
                  else {

                      console.error(json);
                      //`Error: ${json.title}`;
                  }
              } catch (err) {
                  console.error(err);
              }
              // selectElement.innerHTML = "";

              return result;
          }


      var array = [
          {
              id: "bHay68s", // Event's ID (required)
              name: "تمرين 1", // Event name (required)
              date: "3/1/2023", // Event date (required)
              type: "holiday", // Event type (required)
              description:"تمرين جيد",
              everyYear: true, // Same event every year (optional)
          },
          {
              id: "bHay68ss", // Event's ID (required)
              name: "تمرين 2", // Event name (required)
              date: "3/1/2023", // Event date (required)
              description: "تمرين جيد",

              type: "holiday", // Event type (required)
              everyYear: true, // Same event every year (optional)
          },
          {
              id: "bHay68ss", // Event's ID (required)
              name: "New Year3", // Event name (required)
              date: "3/3/2023", // Event date (required)
              type: "holiday", // Event type (required)
              description: "تمرين جيد",

              everyYear: true, // Same event every year (optional)
          },
      ];
     
      var id = "0f38a956-93b5-416e-abd1-c48e130381ab";
      var listExer =  getprogramExercies(id);



       for (var x = 0; x < listExer.length; x++) {

           list.push(
                  {
                      id: Math.random().toString(), // Event's ID (required)
                      name: `${listExer[x].title}`, // Event name (required)
                      date: `January/${x + 1}/2023`, // Event date (required)
                      type: "holiday", // Event type (required)
                      everyYear: true, // Same event every year (optional)
                  }
              );
          }


      for (var x = 0; x < listExer.length; x++) {

          var t = document.createElement("h1");
          t.textContent = listExer[x].title;
          div.appendChild(t);

      }
    //  en, es, de, pt
         
          $(document).ready(function () {
              $("#calendar").evoCalendar({
                  calendarEvents: [{
                      id: "bHay68s", // Event's ID (required)
                      name: "تمرين 1", // Event name (required)
                      date: "3/1/2023", // Event date (required)
                      type: "holiday", // Event type (required)
                      description: "تمرين جيد",
                      everyYear: true, // Same event every year (optional)
                  },
                      {
                          id: "bHay68ss", // Event's ID (required)
                          name: "تمرين 2", // Event name (required)
                          date: "3/1/2023", // Event date (required)
                          description: "تمرين جيد",

                          type: "holiday", // Event type (required)
                          everyYear: true, // Same event every year (optional)
                      },],
                  language:"en"

                  //end of calendar
              });
          });
      </script>
      <div id="div"></div>

      <script src="evo-calendar/js/evo-calendar.js"></script>
  </body>
</html>
